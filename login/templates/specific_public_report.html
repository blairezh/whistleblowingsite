<!DOCTYPE html>
{% load socialaccount %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
  integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<html lang="en">
{% include 'login/user_navbar.html' %}

<body style="margin-top: 120px; background-color: rgb(224, 122, 95)">
  {% if error_message %}
  <div class="container"
    style="display: flex; justify-content: center; width: 710px; height: 100px0px; background-color: #ED4337; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
    <label for="className" style="font-size: 30px; font-weight: 100; color:rgb(45, 45, 45);">
      Error: {{ error_message }}.
    </label>
  </div>
  {% endif %}
  <div class="container mt-5" style="display: flex; justify-content: center;">
    <div class="card" style="width: 80vw; background-color: rgb(242, 204, 143); border: 0; padding: 10px;">
      <div class="summary"
        style="font-size: 30px; width: 100%; height: auto; padding-top: 5px; padding-bottom: 5px; border-radius: 5px; background-color: #f0f0f0; text-align: center; align-items: center; padding-top: 8px; margin-bottom: 1vh;">
        <strong>{{ report.studentName.capitalize }}</strong> was reported for their work in <strong>{{report.className}}</strong> taught by <strong>{{ report.professorName.capitalize}}</strong><br>
      </div>

      <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
        <div class="iframe-wrapper" style="width: 50%; padding: 5px;">
          <p style="font-size: 30px; text-align: center; align-items: center; margin-bottom: 1vh;">Report:
          </p>
          <div style="width: 100%;height: 290px; border: 0px; border-radius: 5px; background-color: #f0f0f0;">
            <p style="padding-left: 5px;">{{ report.report.capitalize }}</p>
            <iframe id="display" src="{{ report.fileLink }}"
              style="width: 100%; height: 300px; overflow: hidden; border: 0;" scrolling="yes"></iframe>
            </div>
        </div>

        <div style="width: 50%; padding: 5px;">
          <p style="font-size: 30px; text-align: center; align-items: center; margin-bottom: 1vh;">
            Comment:</p>
          <form method="post">
            {% csrf_token %}
            <textarea id="feedback" name="feedback" style="resize: none; width: 100%; padding: 5px; height: 250px; border: 0px; border-radius: 5px; background-color: #f0f0f0;"></textarea>
            <input type="Submit" value="Comment" name="Resolve" style="width: 100%; padding: 5px; height: auto; border: 0px; border-radius: 5px; background-color: rgb(129, 178, 154)">
          </form>
        </div>
      </div>


      <div class="comments-container" style="display: flex; flex-wrap: wrap;">
        {% for comment in report.comments_set.all %}
        <div class="comment" style="width: 25%;">
          <div class="summary"
            style="font-size: 16px; height: auto; padding: 5px; border-radius: 5px; background-color: #f0f0f0; text-align: center; align-items: center; margin: 5px;">
            <p>{{ comment.comment }}</p>
          </div>
        </div>
        {% endfor %}
      </div>

    </div>
  </div>
  </div>
</body>

</html>