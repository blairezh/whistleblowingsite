<!DOCTYPE html>
<!-- https://csimagereferemce.blogspot.com/2024/03/blog-post.html -->
{% load socialaccount %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
  integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<html lang="en">
{% include 'login/user_navbar.html' %}
<body>
  <div class="container mt-5">
    <h1 class="mb-4">Submitted Reports</h1>
      <div class="row row-cols-1 row-cols-md-2 g-4">
        {% for report in reports %}
        <div class="col">
        <div class="card" style="background-color:lightblue">
            <h5 class="card-title"> {{report.studentName}}</h5>
            <div class="card-body" style="background-color:whitesmoke">
              <p id="hiddenID">{{report.id}}</p> 
              <script>
                document.getElementById("hiddenID").style.display = "none";
              </script>
              <p class="card-text">
              {{ report.userID }} <br>
              {{report.className}} taught by {{report.professorName}}<br>
              Rating: {{report.rating}}<br>
              Assignment Type: {{report.workType}}<br>
                <span id="more{{report.id}}">
                lajkdhfadksjfhaj <br>
                </span></p>
                <button onclick="myFunction()" id="myBtn{{report.id}}">Expand</button>
                <script>
                function myFunction() {
                  var moreText = document.getElementById("more");
                  var btnText = document.getElementById("myBtn");
                  btnText += reportID;
                if (moreText.style.display === "none") {
                    //dots.style.display = "inline";
                    btnText.innerHTML = "Collapse"; 
                    moreText.style.display = "inline";
                  } else {
                    //dots.style.display = "none";
                    btnText.innerHTML = "Expand"; 
                    moreText.style.display = "none";
                  }
                }
                </script>
            <!--<p class="card-text">
              {{ report.userID }} <br>
              {{report.className}} taught by {{report.professorName}}<br>
              Rating: {{report.rating}}<br>
              Assignment Type: {{report.workType}}<br>
              <span id="testimony">
                User Testimonial: {{report.report}}<br>
                <div class="embed-responsive embed-responsive-4by3">
                  <iframe class="embed-responsive-item" src="{{ report.fileLink}}"></iframe>
                </div>
              </span>
            </p>
            <button onclick="expandReport()" id="expandButton">Expand</button>
            <script>
              function expandReport() {
                var testimony = document.getElementById("testimony");
                var buttonText = document.getElementbyId("expandButton");
                if (testimony.style.display === "none") {
                  buttonText.innerHTML = "Collapse";
                  testimony.style.display = "inline";
                }
                else {
                  buttonText.innerHTML = "Expand";
                  testimony.style.display = "none";
                }
              }
            </script>-->
            </div></div></div>
            {% empty %}
              <p>No public reports submitted.</p>
            {% endfor %}
          </div>
  </div>
</body>
</html>